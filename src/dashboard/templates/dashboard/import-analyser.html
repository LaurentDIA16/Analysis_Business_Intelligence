{% extends 'dashboard/base.html' %}
{% load static %}

<!-- <link rel="stylesheet" href="/src/dashboard/static/dashboard/css/style.css"> -->

{% block content %}


<!-- Sélectionner et importer un fichier CSV puis feedback starts -->
<div class="container-import">

    <!-- Card import csv et feedback starts -->
    <div class="card border-dark mb-3">
        <div class="card-header">
            <div class="header-actions">
                <!-- Nettoyer les données starts -->
                <div class="header-actions-button">
                    <a class="btn btn-danger" aria-current="page" href="{%  url 'nettoyer' %}" style="--bs-btn-padding-y: 0.36rem; --bs-btn-padding-x: 1rem; --bs-btn-font-size: 1.1rem;">Nettoyer données</a>
                </div>
                <!-- Nettoyer les données ends -->
            </div>  
        </div>

        <!-- Feedback starts -->    
        <div class="card-body text-dark">
            <h5 class="card-title bold-text">Feedback:</h5>
            <p class="card-text">{{ dataOrigin }}</p>
            <div class="card-clean">
                <h6 class="card-title">À nettoyer</h6>
                <p class="card-text">{{ dataToDelete }}</p>
                <p class="card-text">{{ dataToRepair }}</p>  
            </div>
            <div class="card-total">
                <h6 class="card-title">Après nettoyage</h6>
                <p class="card-text">{{ dataFinal }}</p>

                {% if percDataDeleteFloat <= 5 %}
                <div class="card-validation">
                    <p class="card-text">{{ percDataDelete }} <br>
                        Vous pouvez nettoyer les données
                    </p>
                    <div class="header-actions-button">
                        <a class="btn btn-success" aria-current="page" href="{%  url 'nettoyer' %}" style="--bs-btn-padding-y: 0.36rem; --bs-btn-padding-x: 1rem; --bs-btn-font-size: 1.1rem;">Nettoyer données</a>
                    </div>
                </div>

                {% else %}
                <div class="card-validation">
                    <p class="card-text">{{ percDataDelete }} <br> 
                        La suppression n'est pas conseillé car cela peut fausser l'interprétation des graphiques <br>
                        Nettoyer quand même?
                    </p>
                    <div class="header-actions-button">
                        <a class="btn btn-warning" aria-current="page" href="{%  url 'nettoyer' %}" style="--bs-btn-padding-y: 0.36rem; --bs-btn-padding-x: 1rem; --bs-btn-font-size: 1.1rem;">Nettoyer données</a>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
        <!-- Feedback ends --> 

    </div>
    <!-- Card import csv et feedback ends -->

</div>
<!-- Sélectionner et importer un fichier CSV puis feedback ends -->

{% endblock %}

